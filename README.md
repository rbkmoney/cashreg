# cashreg


[![Build Status](http://ci.rbkmoney.com/buildStatus/icon?job=rbkmoney_private/cashreg/master)](http://ci.rbkmoney.com/job/rbkmoney_private/job/cashreg/job/master/)


Приложение для взаимодействия с поставщиками, которые отправляют данные в ККТ (Контрольно Кассовый Аппарат)

### Разработчики

- [Anatoly Cherkasov](https://github.com/avcherkasov)


### Содержание:

1. [Настройки](docs/settings.md)
1. [Инструкция](docs/manual/)


Отправка запросов на сервис:

```
http(s)://{host}:8022/cashreg/management - создание чека, запрос чека и запрос событий
http(s)://{host}:8022/cashreg/repairer - создание события для починки
http(s)://{host}:8022/v1/processor - вызов обработчика 
```


### Что умеет:

- 


### TODO:
- не кидать ошибки на любое поведение, кинуть ошибку машингану или уронить машину
- выделить по ошибкам и обработать отдельно



### DONE:
- На старт сходить в адаптер, потом изменить поведение и сохранить state
- добавить ревизию в чеки cashreg
- обновить протокол машингана в машинаторе
- уточнить про repair (имплеменитровать отдельный обработчик, но можно позже, на call не сработает, т.к. машина лежит)
- никакой бизнес логики в процессах (создать отдельный сервис)
- конвертация и передачи данных в прослойку
- работа с адаптерами вынести в отдельный сервис, адаптеры в отдельный код
- процесс сигнал таймаут избавиться от иф елсе и перенести на процессоры
- роутинг провайдеров ??????
- починить тесты